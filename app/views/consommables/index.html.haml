%h2 Consommables Non validé :

%table.table-bordered{:align => "center", :style => "border:none; width: 100%;"}
  %thead

    %th{:style => "text-align:center;"}
      ID
    %th{:style => "text-align:center;"}
      Code consommable
    %th{:style => "text-align:center;"}
      Date Ajout
    %th{:style => "text-align:center;"}
      Ajouté par
    %th
      Désignation conso
    %th{:style => "text-align:center;"}
      Valider
    %th{:style => "text-align:center;"}
      Supprimer
  %tbody  
    / Affiche les consommables non validés
    - @consommables_false.each do |conso|
      - @date = UserAddConsommable.find_by consommable_id: conso.id
      - if !@date.blank?
        - @user = User.find(@date.user_id)
      %tr
        %td{:align => "center"}
          = link_to conso.id, conso
        %td{:align => "center"}
          = link_to "#{conso.code_consommables}", conso
        %td{:align => "center"}
          - if !@date.blank?
            = link_to "#{@date.date_add}", conso
          - else
            %p Il n'y a de date pour ce consommable.
        %td{:align => "center"}
          - if !@date.blank?
            %b 
              = link_to @user.first_name  , user_path(@user)
              = link_to @user.last_name , user_path(@user)
          - else
            Pas d'utilisateur.
        %td{:align => "center"}
          = link_to conso.designation_consommables, conso
        %td{:align => "center"}
          = link_to 'Valider', conso, :remote => true, method: :patch, data: { confirm: "Etes vous sur de vouloir valider le consommable?" },:class => 'update_consommables',style: ' -moz-user-select: none;background-image: none; border: 1px solid transparent; border-radius: 4px;   cursor: pointer; display: inline-block;  font-size: 14px; font-weight: normal;  line-height: 1.42857;  margin-bottom: 0;  padding: 6px 12px;   text-align: center;  vertical-align: middle;  white-space: nowrap; background-color: #337ab7; border-color: #2e6da4;  color: white;'
        %td{:align => "center"}
          = link_to 'Supprimer', conso, :remote => true, method: :delete, data: { confirm: "Etes vous sur de vouloir supprimer le conso?" },:class => 'delete_consommable',style: ' -moz-user-select: none;background-image: none; border: 1px solid transparent; border-radius: 4px;   cursor: pointer; display: inline-block;  font-size: 14px; font-weight: normal;  line-height: 1.42857;  margin-bottom: 0;  padding: 6px 12px;   text-align: center;  vertical-align: middle;  white-space: nowrap; background-color: #d9534f; border-color: #d43f3a;  color: white;'
%h2 Consommables validé :

%table.table-bordered{:align => "center", :style => "border:none; width: 100%;  "}
  / FOR A SCROLLING TABLE
  / %thead{style: "display: block;"}
  %thead
    %th{:style => "text-align:center;"}
      ID
    %th{:style => "text-align:center;"}
      Code consommable
    %th{:style => "text-align:center;"}
      Date Ajout
    %th{:style => "text-align:center;"}
      Ajouté par
    %th{:style => "text-align:center;"}
      Désignation consommable
    %th{:style => "text-align:center;"}
      Supprimer
  / FOR A SCROLLING TABLE
  / %tbody{ :style => "   height: 500px;    overflow-y: auto;    overflow-x: hidden; display: block; "}
  %tbody
    - @consommables_true.each do |conso|
      - @date = UserAddConsommable.find_by consommable_id: conso.id
      - if !@date.blank?
        - @user = User.find(@date.user_id)
      %tr
        %td{:align => "center"}
          = link_to conso.id, conso
        %td{:align => "center"}
          = link_to "#{conso.code_consommables}", conso
        %td{:align => "center"}
          - if !@date.blank?
            = link_to "#{@date.date_add}", conso
          - else
            %p Il n'y a de date pour ce consommable.
        %td{:align => "center"}
          - if !@date.blank?
            %b 
              = link_to @user.first_name  , user_path(@user)
              = link_to @user.last_name , user_path(@user)
          - else
            Pas d'utilisateur.
        %td{:align => "center"}
          = link_to conso.designation_consommables, conso
       
        %td{:align => "center"}
          = link_to 'Supprimer', conso, :remote => true, method: :delete, data: { confirm: "Etes vous sur de vouloir supprimer l'conso?" },:class => 'delete_consommable',style: ' -moz-user-select: none;background-image: none; border: 1px solid transparent; border-radius: 4px;   cursor: pointer; display: inline-block;  font-size: 14px; font-weight: normal;  line-height: 1.42857;  margin-bottom: 0;  padding: 6px 12px;   text-align: center;  vertical-align: middle;  white-space: nowrap; background-color: #d9534f; border-color: #d43f3a;  color: white;'
  

